<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Proof: The Quadrangle Inequality Implies the Monotonic Property</title>
		<link rel="stylesheet" href="style.css">
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
	</head>

	<body>
		<div id="preamble">
			\[
				\DeclareMathOperator*{\argmax}{argmax}
			\]
		</div>

		<div class="heading">
			Proof: The Quadrangle Inequality Implies the Monotonic Property
		</div>

		<p>
			Recall that \( opt(i) \) is defined as
			\[
				opt(i) = \argmax_{j = 1}^{i - 1} \left[ dp[j] + f(i, j) \right]
			\]
			and that the Quandrangle Inequality is satisfied if 
			\(
				\forall j \lt j' \lt i \lt i', f(i, j) + f(i', j') \geq f(i', j) + f(i, j')
			\).
		</p>

		<p>
			The statement of the Monotonic Property is as follows
			\[
				\forall i \lt i', opt(i) \leq opt(i')
			\]
		</p>

		<p>
			Now assume the negation for the sake of contradiction, that \( \exists i \lt i', opt(i) \gt opt(i') \).
		</p>

		<p>
			For convenience, let \( j' = opt(i) \) and let \( j = opt(i') \). Note that \( j \lt j' \lt i \lt i'\).
		</p>

		<p>
			By definition, since \( j' = opt(i) \) and \( j \neq opt(i) \), \( j' \) is a better for DP than \( j \) for
			\( i \). In other words, \( dp[j'] + f(i, j') \gt dp[j] + f(i, j) \).
		</p>

		<p>
			Similarly, since \( j = opt(i') \) and \( j' \neq opt(i) \), \( j \) is a better for DP than \( j' \) for
			\( i \). In other words, \( dp[j] + f(i', j) \gt dp[j'] + f(i', j') \).
		</p>

		<p>
			The two inequalities can be added up and simplified:
			\[ \begin{align}
				\require{cancel}
				
				dp[j'] + f(i, j') & \gt dp[j] + f(i, j)
				\\
				dp[j] + f(i', j) & \gt dp[j'] + f(i', j') \ \ \ (+)
				\\
				dp[j'] + f(i, j') + dp[j] + f(i', j) & \gt dp[j] + f(i, j) + dp[j'] + f(i', j')
				\\
				\cancel{dp[j']} + f(i, j') + \cancel{dp[j]} + f(i', j) & \gt \cancel{dp[j]} + f(i, j) + \cancel{dp[j']} + f(i', j')
				\\
				f(i, j') + f(i', j) & \gt f(i, j) + f(i', j')
				\\
				 f(i, j) + f(i', j') & \lt f(i, j') + f(i', j)
			\end{align}\]
			This is a contradiction of the Quadrangle Inequality, which states that
			\( \forall j \lt j' \lt i \lt i', f(i, j) + f(i', j') \geq f(i', j) + f(i, j') \).
		</p>
		
		<p>
			There is a contradiction in the negation, so the proof is completed.\( \ \square \)
		</p>
	</body>
</html>
